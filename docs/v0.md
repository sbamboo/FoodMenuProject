# FoodMenu API

This is our beautiful api for retrieving a foodmenu.

```notice.red
This documentation is for ´v0´ of the api which is a development version.<br>
Please note that the documentation and api can change at any time!
```

```notice.orange
Due to limitations of epoch-time handling years requested by the api must be inbetween 1970 and 2037 (inclusive)!
```

## Sending a request

### General format
This api takes in requests using GET uri-parmeters and responds with data in the JSON format. The data returned by `v0` of the api is in the following format:
```json
{
    "format": 0,
    "status": "failed"/"success",
    "endpoint_name": "/v0/foodmenu/<endpoint>",
    "filters": {
        "weekday": /*%type:bool%*/,
        "holiday": /*%type:bool%*/,
        "day": /*%type:null%/%type:int%*/
    },
    "weeks": {
        "/*%type:string%*/": {
            "/*%type:string%*/": {
                   "vegetarian": [/*%type:string%*/, /*%type:string%*/],
                   "non_vegetarian": [/*%type:string%*/, /*%type:string%*/]
            }
            //...
        }
        //...
    }
}
```
<br>

### Requesting by Date
This method allows users to retrieve the food menu by providing a specific date (formatted as YYYY-MM-DD).<br><br>
Example:  
```api.request
{url}/v0?date=2025-03-25
```  
```api.response
{
    "format": 0,
    "status": "success",
    "endpoint_name": "/v0/foodmenu/day",
    "filters": {
        "weekday": false,
        "redday": false,
        "day": 2
    },
    "weeks": {
        "13": {
            "2": {
                "vegetarian": ["Pankakor", "Pankakor med sylt och grädde."],
                "non_vegetarian": ["Pankakor", "Pankakor med sylt och grädde"]
            }
        }
    }
}

```

How it Works:  

* In this request, the API takes `2025-03-25` as input and converts it internally to year: `2025`, week: `13` and day: `2` (of the week)
* The server then returns the menu corresponding to that specific week filtered for only day `2` of the week.

<br><br>

### Requesting by Week (Current Year)
This method allows users to retrieve the food menu for a specific week in the current year by providing only the week number. The API resolves the year automatically based on the system’s current date.<br><br>
Example:  
```api.request
{url}/v0?week=13
```  
```api.response
{
    "format": 0,
    "status": "success",
    "endpoint_name": "/v0/foodmenu/week",
    "filters": {
        "weekday": false,
        "redday": false,
        "day": null
    },
    {
    "weeks": {
        "13": {
            "1": {
                "vegetarian": ["Pannkakor", "Pannkakor med sylt och grädde."],
                "non_vegetarian": ["Pannkakor", "Pannkakor med sylt och grädde."]
            },
            "2": {
                "vegetarian": ["Vegetarisk lasagne", "Lasagne med grönsaker och ostsås."],
                "non_vegetarian": ["Lasagne", "Klassisk lasagne med köttfärssås och ostsås."]
            },
            "3": {
                "vegetarian": ["Grönsaksgryta", "Krämig grönsaksgryta med ris och grönsaker."],
                "non_vegetarian": ["Kycklinggryta", "Krämig kycklinggryta med ris och grönsaker."]
            },
            "4": {
                "vegetarian": ["Spaghetti med tomatsås", "Spaghetti serverad med en smakrik tomatsås."],
                "non_vegetarian": ["Spaghetti Bolognese", "Spaghetti serverad med en smakrik bolognesesås."]
            },
            "5": {
                "vegetarian": ["Vegetariska fiskpinnar", "Panerade vegetariska fiskpinnar med potatismos och remouladsås."],
                "non_vegetarian": ["Fiskpinnar", "Sprödbakade fiskpinnar med potatismos och remouladsås."]
            },
            "6": {
                "vegetarian": ["Vegetariska tacos", "Tacos med bönor, grönsaker, salsa och guacamole."],
                "non_vegetarian": ["Tacos", "Tacos med köttfärs, grönsaker, salsa och guacamole."]
            },
            "7": {
                "vegetarian": ["Grillad halloumi", "Grillad halloumi med citron och dill, serverad med kokt potatis."],
                "non_vegetarian": ["Laxfilé", "Ugnsbakad laxfilé med citron och dill, serverad med kokt potatis."]
            }
        }
    }
}
```

How it Works: 

* The API automatically uses the current year (e.g, 2025)
* The request fetches the food menu for the specified week (`13` in this case).
* The server then returns the menu for that week in the current year.

<br><br>

### Requesting by Year and Week
This method allows users to retrieve the food menu for a specific year and week by providing both parameters.<br><br>
Example:  
```api.request
{url}/v0?year=2025&week=13
```
```api.response
{
    "format": 0,
    "status": "success",
    "endpoint_name": "/v0/foodmenu/week",
    "filters": {
        "weekday": false,
        "redday": false,
        "day": null
    },
    "weeks": {
        "13": {
            "1": {
                "vegetarian": ["Vegetarisk kebab", "Grillad kebab av grönsaker och halloumi, serverad med sås"
                ],
                "non_vegetarian": ["Köttfärs- och potatisgratäng", "Mustig gratäng med köttfärs och potatis, en värmande rätt"]
            },
            "2": {
                "vegetarian": ["Rödbets- och fetaostsallad", "Sallad med rödbetor, fetaost och valnötter"],
                "non_vegetarian": ["Biff med pepparsås", "Grillad biff med pepparsås och pommes frites"]
            },
            "3": {
                "vegetarian": ["Morots- och ingefärssoppa", "Värmande soppa med morötter och ingefära, serverad med bröd"],
                "non_vegetarian": ["Köttfärs- och ostpaj", "Mördegspaj med köttfärs och smält ost, perfekt till middag"]
            },
            "4": {
                "vegetarian": ["Vegetarisk tacos", "Tacos fyllda med bönor, avokado och grönsaker"],
                "non_vegetarian": ["Kalkon- och grönsakswok", "Wok med kalkon och färska grönsaker, snabb och god"]
            },
            "5": {
                "vegetarian": ["Vegetarisk burrito", "Burrito fylld med ris, bönor och grönsaker"],
                "non_vegetarian": ["Köttfärssoppa", "Värmande köttfärssoppa med grönsaker och örter"]
            },
            "6": {
                "vegetarian": ["Vegetarisk paella", "Spansk paella med saffran, grönsaker och bönor"],
                "non_vegetarian": ["Fisk med tomatsås", "Ugnsbakad fisk med tomatsås och potatis, en lätt rätt"]
            },
            "7": {
                "vegetarian": ["Grönsaksfyllda crepes", "Crepes fyllda med grönsaker och ost, gratinerade i ugn"],
                "non_vegetarian": ["Köttfärslimpa", "Saftig köttfärslimpa med gräddsås och potatis"]
            }
        }
    }
}

```

How it Works: 

* The API uses the provided year (`2025`) and week number (`11`) to look up the corresponding menu.
* The server then returns the menu for that specific week in the specified year.

<br><br>

### Requesting by Year (Full Year's Data)
This method allows users to fetch the food menu for the entire year, organized by week.<br><br>
Example:  
```api.request
{url}/v0?year=2025
```  
```api.response
{
    "format": 0,
    "status": "success",
    "endpoint_name": "/v0/foodmenu/year",
    "filters": {
        "weekday": false,
        "redday": false,
        "day": null
    },
    {
    "weeks": {
        "1": {
            "1": {
                "vegetarian": ["Pannkakor", "Pannkakor med sylt och grädde."],
                "non_vegetarian": ["Pannkakor", "Pannkakor med sylt och grädde."]
            },
            "2": {
                "vegetarian": ["Vegetarisk lasagne", "Lasagne med grönsaker och ostsås."],
                "non_vegetarian": ["Lasagne", "Klassisk lasagne med köttfärssås och ostsås."]
            },
            "3": {
                "vegetarian": ["Grönsaksgryta", "Krämig grönsaksgryta med ris och grönsaker."],
                "non_vegetarian": ["Kycklinggryta", "Krämig kycklinggryta med ris och grönsaker."]
            },
            "4": {
                "vegetarian": ["Spaghetti med tomatsås", "Spaghetti serverad med en smakrik tomatsås."],
                "non_vegetarian": ["Spaghetti Bolognese", "Spaghetti serverad med en smakrik bolognesesås."]
            },
            "5": {
                "vegetarian": ["Vegetariska fiskpinnar", "Panerade vegetariska fiskpinnar med potatismos och remouladsås."],
                "non_vegetarian": ["Fiskpinnar", "Sprödbakade fiskpinnar med potatismos och remouladsås."]
            },
            "6": {
                "vegetarian": ["Vegetariska tacos", "Tacos med bönor, grönsaker, salsa och guacamole."],
                "non_vegetarian": ["Tacos", "Tacos med köttfärs, grönsaker, salsa och guacamole."]
            },
            "7": {
                "vegetarian": ["Grillad halloumi", "Grillad halloumi med citron och dill, serverad med kokt potatis."],
                "non_vegetarian": ["Laxfilé", "Ugnsbakad laxfilé med citron och dill, serverad med kokt potatis."]
            }
        },
        "2": {
            "1": {
                "vegetarian": ["Svampgryta", "Krämig svampgryta med ris."],
                "non_vegetarian": ["Ankbröst", "Ankbröst med svampsås och potatispuré."]
            },
            //...
        },
        //...
    }
}

``` 

How it Works:  

* The API retrieves all the food menu entries for the provided year (`2025`).
* The response contains data for all the weeks in that year.
